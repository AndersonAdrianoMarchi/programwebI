<!DOCTYPE html>
<html lang="en">
<head>
    <script type="text/javascript" src="nome_arquivo.js"></script>
    <link rel="stylesheet" type="text/css" href="praticatableaula3.css">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .btn-col {
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: flex-end;
            height: 100%;
        }
        input[type="number"] {
            width: 50px;
            padding: 2px 4px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div style="display: flex; flex-direction: row;">
        <div style="flex: 1;">
            <table id="tabelaNotas">
                <tr>
                    <th rowspan="2">aluno</th>
                    <th colspan="3">Semestre 1</th>
                    <th colspan="3">Semestre 2</th>
                    <th colspan="3">Semestre 3</th>
                </tr>
                <tr>
                    <th>Nota 1</th>
                    <th>Nota 2</th>
                    <th>Nota 3</th>
                    <th>Nota 1</th>
                    <th>Nota 2</th>
                    <th>Nota 3</th>
                    <th>Nota 1</th>
                    <th>Nota 2</th>
                    <th>Nota 3</th>
                </tr>
                <tr>
                    <th>João</th>
                    <td><input type="number" step="any" min="0" max="10" value="10"></td>
                    <td><input type="number" step="any" min="0" max="10" value="8"></td>
                    <td><input type="number" step="any" min="0" max="10" value="9"></td>
                    <td><input type="number" step="any" min="0" max="10" value="6"></td>
                    <td><input type="number" step="any" min="0" max="10" value="8.7"></td>
                    <td><input type="number" step="any" min="0" max="10" value="10"></td>
                    <td><input type="number" step="any" min="0" max="10" value="6"></td>
                    <td><input type="number" step="any" min="0" max="10" value="7"></td>
                    <td><input type="number" step="any" min="0" max="10" value="9"></td>
                </tr>
                <tr>
                    <th>Maria</th>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                </tr>
                <tr>
                    <th>José</th>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                </tr>
                <tr>
                    <th>Paulo</th>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                </tr>
                <tr>
                    <th>Miguel</th>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                </tr>
                <tr>
                    <th>Julia</th>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                    <td><input type="number" step="any" min="0" max="10"></td>
                </tr>
            </table>
            <br>
            <div style="display: flex; flex-direction: row; align-items: flex-start;">
                <div style="flex: 1;">
                    <table id="tabelaNotas">
                    </table>
                    <br>
                    <div style="display: flex; gap: 12px;">
                        <button onclick="calcularMedia()">Calcular Média das Notas</button>
                        <button onclick="calcularMediaTodos()">Calcular Média dos Alunos</button>
                    </div>
                </div>
            </div>
    <script>
        function calcularMedia() {
            const tabela = document.getElementById('tabelaNotas');
            for (let i = 2; i < tabela.rows.length; i++) {
                const row = tabela.rows[i];
                let soma = 0;
                let count = 0;
                for (let j = 1; j < row.cells.length; j++) {
                    const input = row.cells[j].querySelector('input');
                    const valor = input ? parseFloat(input.value) : NaN;
                    if (!isNaN(valor)) {
                        soma += valor;
                        count++;
                    }
                }
                if (row.cells.length > 10) {
                    row.deleteCell(10);
                }
                const media = count > 0 ? (soma / count).toFixed(2) : '';
                const cell = row.insertCell(10);
                cell.innerText = media;
                cell.style.fontWeight = 'bold';
                cell.style.background = '#e6f0fa';
            }
            const headerRow = tabela.rows[1];
            if (headerRow.cells.length < 10) {
                const th = document.createElement('th');
                th.innerText = 'Média';
                headerRow.appendChild(th);
            }
        }

        function calcularMediaTodos() {
            const tabela = document.getElementById('tabelaNotas');
            let somaTotal = 0;
            let countTotal = 0;
            for (let i = 2; i < tabela.rows.length; i++) {
                const row = tabela.rows[i];
                for (let j = 1; j < row.cells.length && j < 10; j++) {
                    const input = row.cells[j].querySelector('input');
                    const valor = input ? parseFloat(input.value) : NaN;
                    if (!isNaN(valor)) {
                        somaTotal += valor;
                        countTotal++;
                    }
                }
            }
            const mediaTodos = countTotal > 0 ? (somaTotal / countTotal).toFixed(2) : 'N/A';
            alert('Média de todos os alunos: ' + mediaTodos);
        }
    </script>
</body>
</html>
